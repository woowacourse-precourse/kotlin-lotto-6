# 미션 - 로또🎱

___

### 로또 게임은❓

사용자가 구매 금액과 당첨 번호를 입력하면 해당하는 수량만큼 로또 번호를 생성하고 당첨 내역과 수익률을 출력하는 게임입니다.

___

### 🛠️ 기능 목록

1. [x] 로또 구입 금액을 입력받는 기능
2. [x] 발행 로또 수량과 번호를 오름차순으로 출력하는 기능
3. [x] 당첨 번호와 보너스 번호를 입력받는 기능
4. [x] 당첨 내역과 수익률을 소수점 둘째자리에서 반올림하고 출력하는 기능

___

### ☑️ 예외 처리 목록

#### 로또 구입 기능

1. [x] 구입 금액이 로또 금액보다 낮은 경우
2. [x] 구입 금액이 로또 금액으로 나누어 떨어지지 않는 경우
3. [x] 구입 금액에 숫자가 아닌 문자가 섞여있는 경우
4. [x] 구입 금액이 Int 타입의 최댓값을 넘는 경우
    - Long 타입을 이용해 더 높은 액수 지원
    - Long 타입 최댓값보다 큰 경우 에러 메시지 출력
    - 메모리 부족 현상이 발생해 다시 Int로 변환

#### 발행 로또 수량, 번호 출력 기능

1. [x] 금액이나 로또 번호가 초기화 되지 않은 경우

#### 로또 번호 입력 기능

1. [x] 로또 번호가 1 ~ 45 사이의 자연수가 아닌 경우
2. [x] 로또 번호가 쉼표(,)로 구분되는 숫자 6개가 아닌 경우
3. [x] 로또 번호나 보너스 번호 중에 같은 숫자가 중복되는 경우

#### 당첨 내역, 수익률 출력 기능

1. [x] 당첨 금액이 Int 타입의 최댓값을 넘는 경우

___

### 🤔 고민 Point

1. 기능을 어떤 기준으로 분리하고 관리하며 어떤 데이터를 전달해야 할까?
    - 각각의 기능은 한 가지 기능에 대해서만 존재하고 내부에서 세부적으로 분리한다.
    - 데이터는 안정성을 위해 기본 타입이 아닌 data class 나 enum class로 주고받는다.
2. 예외 처리를 어떤 기준으로 구분하고 후처리를 어떻게 해줄까?
    - 기능 요구 사항에 없고 기능의 장애를 유발할 수 있으면 예외로 판단하고 메시지를 출력한다.
    - 입력 오류인 경우에는 재입력을 받고 state 오류인 경우에는 초기화가 되지않아 정상 진행이 불가능하므로 종료한다.
3. 함수가 하나의 기능만 하고 있으며 단위 테스트를 실행할만큼 독립적일까?
    - 기능이 '~가 ~를 한다.' 같은 하나의 주어와 서술어로 표현할 수 있는지 생각한다.
    - 단위 테스트를 실행할 때 타 클래스의 데이터를 요구하지 않는지 확인한다.
4. 다른 사람이 봐도 금방 이해할만큼 가독성이 좋고 직관적인 변수명을 사용했었나?
    - 불필요한 주석을 줄일 수 있도록 길더라도 명시적인 변수명을 사용했다.
5. 테스트 코드가 기능의 유효성을 시험할 수 있을만큼 변별력이 있을까?
    - 테스트 코드에 정상 상황과 예외 상황을 두번 검증해보기로 한다.
6. Output을 담당하는 라이브러리가 변경된다고 해도 기능이 제대로 작동될까?
    - output을 분리해서 별도의 object로 두고 변경된다면 대체할 수 있도록 한다.
7. 액수인 만큼 Int 타입의 최댓값을 넘을수도 있는데 어떻게 해결할까?
    - Long 타입을 활용해 더 높은 액수를 지원할 수 있도록 한다.
    - 그보다 큰 경우에는 에러 메시지를 출력해 보다 낮은 액수로 유도한다.
    - Int 보다 높은 수를 사용하면 heap 메모리가 부족해 멈추는 경우가 발생했다. 다시 Int로 변경한다.
8. IllegalArgumentException 만 throw 하게되면 어디서 발생한 입력 에러인지 정확히 알기 힘들지 않을까?
   - IllegalArgumentException 을 상속하는 예외를 만들어서 어떤 기능의 에러인지 정확히 알 수 있게 한다.