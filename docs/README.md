# 미션 - 로또
> 로또 게임 기능을 구현해야 한다. 로또 게임은 아래와 같은 규칙으로 진행된다.

이번에는 MVC 패턴을 최대한 활용해, 구현해 보도록 하자!

<hr />

### 🛠 아키텍쳐 설계

```
 .
 │── Application.kt
 │── model
 │   │── Lotto.kt
 │   │    └── LottoValidator // Lotto를 검증하는 Lotto의 inner Class
 │   └── LottoService.kt
 │── view
 │   └── LottoView.kt
 │── controller
 │   └── LottoController.kt
 │── util
 │   ├── InputUtil.kt
 │   └── OutputUtil.kt
 └── constants
     │── Lotto.kt
     └── Error.kt
```

<hr />

- [x] 로또 번호의 숫자 범위는 1~45까지이다.
  
  🧐 생각한 방법 : LottoController 내부에서 숫자 범위 내 로또 번호를 생성하는 로직을 생성한다.

      (완료) LottoController 클래스를 생성 및 설계.
      (완료) LottoController 클래스 내부에, 구매한 Lotto리스트와 당첨번호를 프로퍼티로 생성.
      (완료) LottoService 내부에 숫자 범위 내 로또 번호를 생성하는 로직을 생성.

- [x] 1개의 로또를 발행할 때 중복되지 않는 6개의 숫자를 뽑는다.

  🧐 생각한 방법 : LottoView에서 LottoController를 통해 중복되지 않는 6개 숫자를 반환하는 로직을 구성한다.

      (완료) LottoService 클래스 내부에 Lotto를 발행해 반환하는 메서드를 구현한다.
      (완료) Lotto 클래스의 inner class인 LottoValidator에서 Lotto가 중복되는지 체크하는 메서드를 구현한다.

- [ ] 당첨 번호 추첨 시 중복되지 않는 숫자 6개와 보너스 번호 1개를 뽑는다.

  🧐 생각한 방법 : LottoController 내부에서 당첨번호를 추첨하는 메서드를 구현한다.

      () LottoService 내부에 중복되지 않는 숫자 6개와 보너스 번호 1개를 뽑는 메서드를 구현한다.


- [ ] 당첨은 1등부터 5등까지 있다. 당첨 기준과 금액은 아래와 같다.
  - 1등: 6개 번호 일치 / 2,000,000,000원
  - 2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원
  - 3등: 5개 번호 일치 / 1,500,000원
  - 4등: 4개 번호 일치 / 50,000원
  - 5등: 3개 번호 일치 / 5,000원

      🧐 생각한 방법 : LottoService 내부에서 당첨 내역을 반환하는 메서를 구현한다.

          () LottoService 내부에 당첨 내역 반환하는 메서드 생성.
          () LottoService 내부에 당첨 내역 반환하는 메서드 구현.

- [ ] 로또 구입 금액을 입력하면 구입 금액에 해당하는 만큼 로또를 발행해야 한다.

  🧐 생각한 방법 : LottoService 내부에서 구입 급액만큼 로또를 발행하는 메서드를 구현한다.

      () LottoService 내부에서 구입 급액만큼 로또를 발행하는 메서드를 구현한다.
      () InputUtil 클래스 내부에서 구입금액을 입력받는 메서드를 구현한다.
      () OutputUtil 클래스 내부에 "구입금액을 입력해 주세요."를 출력하는 메서드를 구현한다.

- [ ] 로또 1장의 가격은 1,000원이다.

  🧐 생각한 방법 : LottoService 내부에서 구입 급액이 1000원 단위로 나눠지는지 체크하는 메서드를 구현한다.

      () LottoService 내부에서 구입 금액이 1000원 단위로 나눠지는지 체크하는 메서드를 생성한다.
      () LottoService 내부에서 구입 금액이 1000원 단위로 나눠지는지 체크하는 메서드를 구현한다.

- [ ] 당첨 번호와 보너스 번호를 입력받는다.

  🧐 생각한 방법 : 당첨번호와 보너스 번호를 입력받아 LottoController의 당첨번호와 보너스 번호에 저장한다.

      () OutputUtil 클래스 내부에 당첨번호를 입력 문구를 출력하는 메서드를 구현한다.
      () InputUtil 클래스 내부에 당첨번호를 입력 받는 메서드를 구현한다.
      () OutputUtil 클래스 내부에 보너스 번호를 입력 문구를 출력하는 메서드를 구현한다.
      () InputUtil 클래스 내부에 보너스 번호를 입력 받는 메서드를 구현한다.
      () 당첨번호와 보너스 번호를 입력 받아 반환하는 메서드를 LottoView에 구현한다.
      () LottoView의 위 메서드를 호출하는 메서드를 LottoController에 구현한다.

- [ ] 사용자가 구매한 로또 번호와 당첨 번호를 비교하여 당첨 내역 및 수익률을 출력하고 로또 게임을 종료한다.

  🧐 생각한 방법 : 사용자가 구매한 로또 번호와 당첨번호를 비교하여 당첨 내역 및 수익률을 출력하는 메서드를 구현한다.

      () LottoService에 사용자가 구매한 로또 번호와 당첨번호를 비교하여 당첨 내역 및 수익률을 출력하는 메서드를 구현한다.
      () LottoView에 당첨내역과 수익률을 보여주는 메서드를 구현한다.
      () OutputUtil에 당첨내역과 수익률을 출력하는 메서드를 구현한다.
      () LottoController에 당첨내역과 수익률을 출력하고 종료하는 메서드를 구현한다.


- [ ] 사용자가 잘못된 값을 입력할 경우 `IllegalArgumentException`를 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.
  `Exception`이 아닌 `IllegalArgumentException`, `IllegalStateException` 등과 같은 명확한 유형을 처리한다.

  🧐 생각한 방법 : InputUtil 내부에 IllegalArgumentException을 발생시키고, OutputUtil을 통해 에러 메시지를 출력한다.

      () InputUtil 각 메서드에 예외처리를 한다.
      (완료) OutputUtil 메서드에 예외를 출력하는 메서드를 생성한다.

<hr />

### 입출력 요구 사항

#### 입력

- 로또 구입 금액을 입력 받는다. 구입 금액은 1,000원 단위로 입력 받으며 1,000원으로 나누어 떨어지지 않는 경우 예외 처리한다.

```
14000
```

- 당첨 번호를 입력 받는다. 번호는 쉼표(,)를 기준으로 구분한다.

```
1,2,3,4,5,6
```

- 보너스 번호를 입력 받는다.

```
7
```

#### 출력

- 발행한 로또 수량 및 번호를 출력한다. 로또 번호는 오름차순으로 정렬하여 보여준다.

```
8개를 구매했습니다.
[8, 21, 23, 41, 42, 43] 
[3, 5, 11, 16, 32, 38] 
[7, 11, 16, 35, 36, 44] 
[1, 8, 11, 31, 41, 42] 
[13, 14, 16, 38, 42, 45] 
[7, 11, 30, 40, 42, 43] 
[2, 13, 22, 32, 38, 45] 
[1, 3, 5, 14, 22, 45]
```

- 당첨 내역을 출력한다.

```
3개 일치 (5,000원) - 1개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
```

- 수익률은 소수점 둘째 자리에서 반올림한다. (ex. 100.0%, 51.5%, 1,000,000.0%)

```
총 수익률은 62.5%입니다.
```

- 예외 상황 시 에러 문구를 출력해야 한다. 단, 에러 문구는 "[ERROR]"로 시작해야 한다.

```
[ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다.
```

#### 실행 결과 예시

```
구입금액을 입력해 주세요.
8000

8개를 구매했습니다.
[8, 21, 23, 41, 42, 43] 
[3, 5, 11, 16, 32, 38] 
[7, 11, 16, 35, 36, 44] 
[1, 8, 11, 31, 41, 42] 
[13, 14, 16, 38, 42, 45] 
[7, 11, 30, 40, 42, 43] 
[2, 13, 22, 32, 38, 45] 
[1, 3, 5, 14, 22, 45]

당첨 번호를 입력해 주세요.
1,2,3,4,5,6

보너스 번호를 입력해 주세요.
7

당첨 통계
---
3개 일치 (5,000원) - 1개
4개 일치 (50,000원) - 0개
5개 일치 (1,500,000원) - 0개
5개 일치, 보너스 볼 일치 (30,000,000원) - 0개
6개 일치 (2,000,000,000원) - 0개
총 수익률은 62.5%입니다.
```

---